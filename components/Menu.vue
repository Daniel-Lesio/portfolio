<template>
    <transition name="bounce">
        <template>
            <div class="sidenav bg-white"
                v-if="open"
            >
            <div class="closeMenu" v-on:click='closeMenu()'>
<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </div>
           <transition name="slide-fade">
            <div v-show="hoverEffect" class="effect">
                <h1>{{ effectText }}</h1>
            </div>
           </transition>
        <transition >
            <ul class="container mx-auto">
            <div class="container">
                <li v-for="a in pages" :key="a.name"
            v-on:mouseover="hoverFun(a.name , true ,a )"
            v-on:mouseleave="test()"
            v-on:click="closeMenu(a)"
            >
            <nuxt-link :to="`/${a.href}`"
            >
            <div class="svg-relative">
                <span>{{a.name}}

                <svg    id="line" x="0" y="0" viewBox="0 0 200 5" xml:space="preserve"
                :style="{'width' :  lineActive === a.id ? '100px' : '0px'  }"
                ><path 
                    
                d="M200 3.2c.1-.1 0-.3-.2-.2l-.2.3.4-.1zM198 2.6c-.3.2-.7.4-.5.7.3-.3.4-.2.8-.6.3 0 .5.1.5.2.1-.1.5.1.6-.1-.4-.3-.9-.3-1.4-.1-.1 0 0-.1 0-.1zM169.6 2h.2c0 .1-.1 0-.2 0zM152.1 1.9c.1 0 .2 0 .2-.1-.1 0-.2 0-.2.1zM149.1 1.5h.2-.2zM169.6 2l-.5-.1c0 .1.3.1.5.1zM194.1 3.3c.1 0 .2 0 .3-.1-.1.1-.2.1-.3.1zM177.4 1.8h.1l.1-.1-.2.1zM183.3 1.7c-.1 0-.2.3-.2.4.1-.1.2-.2.3-.2 0 0 0-.1-.1-.2zM192.8 2.2h.2-.2zM173.1 1.7s0-.1-.1-.1c.1 0 .1.1.1.1zM6.9 3.8zM0 2.4c.1-.1.1-.1.1-.2l-.1.2zM143.6 1.1c.2 0 .1 0 0 0zM93.2 1.3c.6.3-.9.3-.1.6 0-.1.8-.4.1-.6zM193.9 3.3h-.2.2zM93.1 1.9c.1.1.1 0 0 0zM130.9 1.3l.1.1c.1 0 0 0-.1-.1zM140.4 1.7h-.2.2zM126.1 1.7c-.1 0-.2-.1-.3 0h.1c-.1 0 0-.1.2 0zM121 1.7c.1.1.2 0 .3 0h-.3zM22.4 3.7c-.1-.1-.2-.2-.2-.3 0 .2-.7.3.2.3zM194.1 3.2c0 .1-.1.1-.2.1h.2v-.1zM125.8 3.9h-.8.8zM58.9 3.6h-.2c.1.1.2.1.2 0zM122.6 3.9c-.1-.1-.3-.2-.5-.2 0 0-.1 0-.1.1l.6.1zM22.2 3.4z"/><path class="st0" d="M16.8 4.1c.8 0 .4-.4.5-.6.9-.1.4.3.7.5.6-.1 1-.4 1.4-.4 0 .1.1.1 0 .2.6-.3 1.8 0 2.5-.4.1 0 .1.1.1.1v-.6c.3 0 .6-.2.8 0-.2 0-.2.1-.3.2l.4-.1c.3.3-.5.1-.5.4.7-.1 1.5-.4 2.1-.3.1.3-1.3.1-.5.4l-1-.1c.6.5-.5 0 .1.5 1.1.1 1.2-.2 2.3-.1.2-.2-.1-.3.2-.5 1.6-.3 1.3.9 2.4.4.3-.2.4-.7 1.2-.4l-.2.4c1.1 0 .6-.6 1.7-.3-.2.2-.8.1-.7.2.7.3.5-.2 1.1-.2l.1.3c1.1-.1 2.4-.3 3.6-.4-.1.1-.3.2 0 .3 1.6-.2 3.4 0 4.9.2l.6-.3c.1 0 .3.1.1.2.6.1 0-.2.3-.3.3 0 .4.2.2.3 1.1-.2 3-.5 4.1-.2l-.2.1c.9.1 1-.6 1.8-.3l-.2.1c1.9.1 3.9-.1 5.4.3.3-.4 1.9.2 2-.4 1.1.3.8.4 2.3.6.4 0 .6-.4 1.1-.4v.3l.7-.3.4.4.5-.1c-.2 0-.4-.1-.4-.2.7-.1 1.8.2 1.8.4l1.7-.3c0 .1-.3.2-.6.2.9-.3.2.3 1 0-.1-.1.1-.2.1-.2.4.2 1.4.2 2.1.1l-.1.2c1.3.1 2.7-.1 4.1-.1-.5-.1-.4-.5 0-.5l.2.3c.3-.2-.4-.1.1-.4.5 0 .4.4.1.5l.7-.1c0 .1-.1.1-.2.3.3-.2 1.1.3 1.5 0v.1c1.4 0 2.1-.1 3.3-.1 0-.3.5-.2.8-.4.9.1 1.8.3 2.8.3.7-.1.2-.2.5-.4.1.3 1.1.2.6.4 1.2 0 1.6-.1 3.2-.3-.2-.1-.4-.2-.3-.2.3 0 .6.1.6.2h-.1c1.8-.4 4.1.7 5.5.2h-.1l1.5-.3c.7 0-.4.2.1.4 1.6-.4 2.5.1 3.8-.2 1 .8 3.6-.1 4.9.4l-.1-.2c.3-.2.4.1.7.1 0-.1-.4-.2-.2-.3 3-.2 6.1.3 9.1.4 1.1 0 .6-.9 2-.5l-.3.4c2.2-.4 4.6 0 6.8-.3-.1.1-.1.2-.3.2.5.2 1.7 0 1.7-.2.3 0 .1.2.3.3.5.1 1.2-.3 1.4-.1 0 0-.1.1-.2.1.3-.1 1.4 0 1.1-.2.8.1 1.6-.1 2.2 0 .4-.3 1.4.1 1.5-.3-.1.5 1.4.4 2 .2-.2.1.5.1.2.3.6 0 1.1-.1 1-.3 1.1.5 2.2-.4 2.8.3 1.8-.2 3.4-.4 5-.5-.1.5-1.8 0-1.7.5 1.5-.2 2.4-.6 3.9-.5.4.1-.2.2-.3.3 1.5-.2 2.9 0 4.2-.2 0 0-.1.1-.3.1.3 0 .6.1.6-.1l-.3.1c-.4-.3 1-.6 1.1-.8-.4.6 1.3.1.6.9.2 0 .4-.1.4-.3.3 0 .3.1.1.3.9-.1.6-.3 1.5-.3 0 .1-.2.1-.3.3.4-.2.9-.4 1.6-.3 0 .1 0 .1-.2.1 1.2 0 2.1-.5 3.5-.3-.4.4.5.1.5.5l.7-.1-.3-.2c.6 0 1.2-.3 1.8-.1l-.5.2 1.2-.1-.7-.1c.6-.2-.1-.5.8-.4-.2 0 .6 0 1 .2.3-.1.6-.2 1.1-.2.1.1-.1.4 0 .5.3-.3 1.5-.1 1.9-.4-.1.1-.1.3-.1.3l.3-.3c.3.1.3.1.3.3.9 0-.3-.5.8-.3-.1 0 0 .1-.2.1 1.1.1 2.1-.2 3 0 .3.4-.9.1-.5.4 1.4-.1 2.9-.5 4.3-.4h-.3c.2-.5 1 .3 1.7 0-.2 0-.2.3-.2.2.9.1 1.9-.1 3.3-.3l-.2.1c.6.1 1.5.1 2 .1.2-.1.5-.1.3-.3 1.8.8 3.5-.4 5.1.2-.2 0-.5.1-.3.1l1.4-.1c-.1-.2-.2-.1-.5-.3.2-.1.6-.2.9-.2-.6.2 0 .4.3.5V3c.7.4.1-.5 1.1-.2l-.1.1c.4-.1.7-.2 1.1-.2.2.3-.4.1-.4.3.6 0 1.1-.5 1.6-.2-.2.1-.6.1-.8.1.6.3.6.2 1 .3l1 .1-.2-.1c.7-.7 1.4-.1 2.4-.6-.9.4-.2.3-.2.6.2.1.6.2.5.3.4-.2.7.2 1.4-.2 0 .1.5 0 .4.3.6-.1-.1-.2-.1-.3.9-.3 2.1.4 3.4-.1 1.1-.2 1.3-.5 2.3-.7.3.2-.3.4-.3.4.6.1 1 .1 1.5 0-.1.1 0 .2.2.3.4 0 .3-.4.8-.2-.1.1-.2.3-.4.4.5-.1 1-.3 1.5-.4.1.2-.3.3-.5.4.6-.1 1.5-.2 1.7-.4l-.4-.1c.2 0 .1.2 0 .3-.5.2-.7-.1-.7-.2l.4-.1c-.4-.6-1.5.1-2.2.1l.3-.4-.8.3c-.2-.1-.3-.3.1-.4-.5-.2-.5.1-.9-.1-.1 0 0-.1 0-.1l-.5.1c.1-.1-.1-.3.2-.2-.9-.2-1.5.3-1.9 0h.1c-1.3.1-.1.3-1.1.7l-.6-.9-.1.3c-.1 0-.4 0-.3-.2-.5.2.1.1-.2.3-.6-.3-1.8.1-1.9-.4-.2.2.6.2-.1.3-.2-.5-.8.1-1.4-.2.2-.3.7-.1.1-.4-.4.5-1.1-.1-1.6 0 0 .4-1.1.2-1.9.3.1-.1-1.6-.2-2.3-.3v-.1c-.1.4-.9.3-1.5.4 0-.2.1-.3.4-.4h-.5c-.1.1-.3.2-.7.2l.1-.3c-.7 0-1.5.3-2.4.1-.1.3.7.7-.2.9 0-.1-.1-.4.2-.4-.1 0-.3.1-.5.1l.4-.2c-.4-.1-.2.2-.6.2 0-.2-.3-.1-.2-.3.1 0 .3.1.4 0-.4 0-.8-.2-1-.3 0 .1 0 .3-.3.3-.7 0-.2-.2-.7-.3-.2.1-.6 0-.7.3-.2 0-.3-.1-.3-.2-.4.1-1.8 0-1.3.4h0c-1.2.3-2.6-.2-3.8 0V2c-.7.1-1.6.1-2.1.3-.2 0-.5-.2-.4-.3-.6.1-.6.2-1.4 0 .6-.2-.2-.2.6-.1-.7-.1-.9-.2-1.7 0 .3-.3-.5-.3-.9-.2l.5.2h-1.1l.2-.3c-1.5-.4-2.7.7-3.8 0-.4.2.8.2.5.4-.7 0-1.4-.5-1.6-.5-.9-.2-.9.5-1.9.4.1.1.2.4-.5.5-.7 0-.8-.5-.4-.6.2 0 .2 0 .2.1.2 0 .5-.1.2-.2l-.1.1c-.3-.1-1.3-.1-1.1-.3-.5.1-.2.2.2.3-.9-.2-1.4 0-2.3-.1.1.1.3.2.1.2-1.3-.1-.6.2-1.5.3-.5-.2.2-.4-.7-.3-.6-.1-.1-.3.1-.4-.8.2-1.5-.2-2-.2l.4-.1c-.3.1-.5.1-.7.1l.2.2c-.3 0-.5 0-.5-.1-.3.2.2.4-.3.6-.3-.1-1 .1-1.2-.2 1.1.1-.1-.3.8-.4h-.6s0-.1.1-.1c-1-.3-.5.4-1.5.3.1-.2-.2-.3-.4-.3.4 0 .2.3-.2.4-.7-.1-.7.1-1.1.1l.4.1c-.1.2-.5.2-.9.2 0-.1.4-.1.3-.2-.5.3-1.2-.3-1.9-.1-.3-.1 0-.3-.3-.4-.8.2-.9-.2-1.8-.1.2.2.3.2-.3.4l1.4-.2-.9.3c.4 0 .9-.2 1.2-.1-.4.2-.4.1-.2.3-.6-.4-1.2.2-1.8 0v-.6c-1-.3-1.8.3-3.1.2l.4.1c-.2.2-.8 0-1.2.1 0-.2-.2-.3-.4-.4 0 .1-1 0-1.1.4l-.6-.3c-1.1-.1-1.2.6-2.2.5.3-.2-.2-.4.5-.5-.3 0-.7 0-.7.1-.2-.1-.9.3-1.3.1-.1.1-.2.3-.6.3v-.1c0 .1-.6.1-.3.4-1.1-.6-2.9 0-3.9-.5-.7.1-1.6.1-2.3.1 0-.1 0-.1.1-.1-.9-.2-.6.6-1.6.4-.5-.3.6-.2.2-.3-.1-.6-1.3.1-2-.3h.2c-.5-.2-1.3.2-2.2.2v-.1c-.6.3-1.8.4-2.6.5.3-.3.4-.1.2-.4-.4 0 .1.4-.7.5-.3-.1-.8-.3-.9-.5h.7c-.4-.4-.9 0-1.3 0v-.2c-1.1.1-1.1.4-2.3.4l.1.1c-.7.4-.5-.2-1.2.1l-.2-.4c-.4.1-1.5.4-2.3.5.4-.3 1.3-.4 1.9-.6-.4 0-1.5 0-1.7.2.2 0 .4-.1.6-.1-.5.3-1.2.5-2.1.5.2-.8-2.2-.2-2.8-.8-1.5.3-3-.1-4.7-.1.6.6-.5 0-.4.6h-.6l-1.2-.4c-.3-.2.4-.1.4-.3-.9 0-.4-.3-1-.4.1.2-.3.3-.8.2l.7.3c-1.3.3-1.1-.5-2.3-.2l.5-.2c-.6.1-2.4 0-3 .5-.1-.1-.3-.2 0-.3-1.5-.1-3.4.5-4.6.2l.1-.1c-.3 0-.5.3-.9.1 0-.1.1-.1 0-.2-.2.1-.8.3-1.1.2l.3-.1c-1.5-.2-2.3.4-3.6.5 0-.4-1.2-.6-1.8-.7V1c-1.8-.1-3 .4-4.6.5-1-.5-3.4-.2-5-.5.2.1 0 .3-.3.4-.4-.1-1.1.3-1-.1h.1c-.3-.4-1.1-.3-1.7-.3l-.1.7c-1.6-.8-4.2.3-5.1-.4-.4.1-.9.1-1.2.3v-.3c-1.1-.1-1.6-.1-2.9 0l.3-.3c-.7 0-.9.8-1.6.8l-.2-.4c-1.3 0-2.6-.4-3.9 0 0-.1.1-.2.3-.2-.6 0-2.4-.3-2.1.3 0-.4-1.3 0-2 .1l.1-.3c-.6.4-.6.5-1.4.6-.2 0-.2-.2.1-.2-.7-.1-.5.3-1.3.1l.3-.2c-.7 0-.6.1-1 .3-.4.1-1.3-.1-1.4-.3-.1.2-.5.4-.9.3-.1-.1.1-.2.2-.2-1.1-.2-1.7.3-2.4.1 0-.1-.1-.1-.1-.2h1.5c0-.3-.7-.3-.1-.7-.6.2-1.6.6-2.3.5 0 0-.1 0-.1-.1h.1-.4c-.2 0-.4-.1-.6-.1-.1-.2-.8-.1-1.2-.1 0 .3-.4.2 0 .5h1.4c-.3.1-.6.3-1 .1l-.5.5c-.5-.4-1.4-.6-1.6-.8-1.1.2-2.6.1-3.3.6-.3.1-.4-.2-.5-.2.2-.1.4 0 .5-.1-.6.1-1.9.1-2 .4-.8-.2.4-.3-.6-.3l.1-.1c-2.1-.6-3.5.9-5.8.2.2 0 .2.1.3.1-2.7-.3-5.5.3-8.2-.2-.8-.1-.8.1-1.3.3l-.5-.3-.8.3c-1.1.3-1.9-.7-3.3-.2l.2.2c-.6-.1-1.7.1-1.6-.2 0 .1-.1.3-.3.2v-.2l-1.3.3c-1-.1.2-.6-1.3-.7-.5.1-1.5.5-1.3.6.2 0 .5.1.6.3H.1c-.1.5-.4 1 .7 1.3l.8-.3.3.2h-.7c.4.2.6 0 .9-.1.1.1.2.2.3.2l.8-.4c.1.2-.4.4.2.5.4-.2-.4-.4.3-.5.4.2.3.3.8.2.1.1 0 .2-.2.2.4-.1 1.1-.1 1.3-.3.4.3 1.4-.1 1.3.4.1-.1.7-.4 1.1-.4-.7.5 1.4 0 1.2.6.5-.5 1.8-.2 2.7-.5-.1 0-.1.1-.2.1.5 0 .7.2 1 .3.1-.4.9-.5 1.3-.7.6.4-.4.5-.2.8 0-.3 1.1-.3.9-.6.5.2.4.1.7.4.1-.5.4-.1.8-.4.7.2.2.5.9.3.4.2-.3.4-.3.4zm18-.9c0 .1 0 .1 0 0h-.4c.1.1.2.1.4 0zm1.5 0h-.7c-.1-.1 0-.2.2-.2 0 .1.3.2.5.2zm-3.2-1.9c.2 0 .3 0 .4.1h-.4v-.1z"/><path class="st0" d="M32.7 1.7c.1.1.1 0 .1 0h-.1zM169.9 2.1zM57.2 3.8v-.1l-.1.1zM178.2 3s0 .1.1.1l-.1-.1zM181.8 3.1l.5.1c-.2 0-.4-.1-.5-.1zM184.6 3.2s0-.1.1-.1l-.1.1zM140.6 3.6h0zM153.7 2.9c-.1.1-.3.1-.4.1.2.1.3.1.4-.1zM125.9 3.9zM152.6 3c.2.1.4 0 .6 0h-.6zM196.6 3.4h.1-.1zM196.7 3.3h0zM197.2 3.2l-.3.1c.1 0 .2 0 .3-.1zM192.9 3.2v0zM191.8 3.3c.3 0 .7.2 1 .2v-.1c-.1.1-.8-.3-1-.1zM187.1 2l.9.1c-.2-.1-.4-.3 0-.3-1.1-.3.4.3-.9.2zM184.2 1.9c.5-.1 0-.2 0-.2-.3 0-.3.1 0 .2zM163.3 1.9l.1-.3c-.4 0 0 .1-.1.3zM159.3 3.2l.4.1.2-.2zM157 1.4l.1-.1-.6.1zM121.9 1.4l.1.3c.2 0 .3-.3-.1-.3zM106.7 1.8c-.2-.2-.6-.3-.9-.1.4 0 .7.1.9.1zM61.3 1.3l.3-.2-.6.1z"/></svg>
                </span>
            </div>
            </nuxt-link>
            </li>
            </div>
        </ul>
        </transition>
    </div>
    
        </template>
    </transition>
</template>

<script>
    export default {
        data(){
            return{
                hoverEffect : false,
                effectText : '',
                lineActive : Number
            }
        },
        methods : {
            hoverFun(el ,payload , e){
                console.log(e)
                this.lineActive = e.id
                this.effectText = el
                this.hoverEffect = payload 
            },
            test(x){
                this.hoverEffect = false
            this.lineActive =  null
            },
             async closeMenu(page){
            if(page){
                await this.$router.push({
                 path : page.href
             })
            }
             await this.$store.commit("CLOSE_MENU")
            },
        },
        computed : {
           
            open(){
                return this.$store.state.menuOpen ? true : false
            },
            pages(){
                return [
                    { id:0, href : '/' ,    name  :  this.$store.state.language == 'polish' ?'Główna':'Home' },
                    { id:1, href : '/about' , name  :  this.$store.state.language == 'polish' ?'O_Mn!e':'About_Me'},
                    { id:2, href : '/gallery' ,  name  :  this.$store.state.language == 'polish' ?'Galeria':'Gallery'},
                    { id:3, href : '/contact' , name  :  this.$store.state.language == 'polish' ?'Kontakt':'Contact'},
                ]
            }
        }
        
        
    }
</script>

<style lang="scss" scoped>

.sidenav{
overflow: hidden;
    z-index: 100;
    position: fixed;
    background: #fff;
    width: 100%;
    height: 100%;
    transform: scale(1.0);
    display: flex;
    justify-content: flex-start;
    align-items: stretch;
    font-weight: 900;
    letter-spacing: 3px;
    font-size: 40px;
    &::after{
        z-index: 200000;
        position: absolute;
        content:'' ;
        background: #2c2c2c;
        width: 0%;
        height: 100%;
        left: 0;
        transition: all ease-in-out 0.4s;
  }
}
.bounce-enter-active {
  animation: bounce-in .75s;

  &::after{
      width: 100%;
      
  }
  &::before{
   height: 0%
      
  }
}
.bounce-leave-active {
  animation: bounce-in .75s reverse;
  &::after{
      width: 100%;
      
  }
  
}
@keyframes bounce-in {
  0% {
    transform: translateX(-100vw) scale(.6);
  }
  50% {
    transform: translateX(10vw) scale(.6);
    
  }
  90%{
  }
  100% {
    transform: translateX(0) scale(1);
  }
}
ul{

    background: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    width: 100%;
    
    @media screen and (max-width: 768px) {
        text-align: center;
    }
    $n : 4;
    li{ 
        padding-left: 20px;
        z-index: 3;
        cursor: pointer;
        font-size: 40px;
        line-height: 100px;
        animation: bounce-in .75s;
        position: relative;
        
}
}
.effect{
    
    position: absolute;
    width: 100%;
    right: 0;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0.3;
    h1{
        font-size: 200px;
    }
}
.slide-fade-enter-active {
  transition: all .9s ease;
}
.slide-fade-leave-active {
  transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);
}
.slide-fade-enter, .slide-fade-leave-to
/* .slide-fade-leave-active below version 2.1.8 */ {
  transform: translateX(10px);
  opacity: 0;
}
.svg-relative{

    span{
        position: relative;
        svg{
            position: absolute;
            transition: all ease-in-out .3s;
            bottom: -10px;
            height: 10px;
            fill : rgba(#553c9a ,0.1);
            transform: translateX(-50%);
            left: 50%;
            stroke:  #553c9a  ;
            stroke-width: 5px;
            @media screen and (min-width:  768px) {
                transform:inherit;
                left: 0;

            }
        }
    }
}
.tester{
    position: fixed;
    left: 0;
    bottom: 0;
    z-index: 9999999999999999;
    background: #553c9a;
    color: white;
}
.closeMenu{
    cursor: pointer;
    position: fixed;
    z-index: 101;
    right: 40px;
    top: 40px;
    width: 50px;
    height:  50px;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    padding: 10px;
    background: #ddd;
    svg{
        display: flex;
        justify-content: center;
        align-items: center;
    }

}

</style>